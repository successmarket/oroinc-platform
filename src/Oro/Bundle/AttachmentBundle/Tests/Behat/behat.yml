oro_behat_extension:
  elements:
    Attachment Form:
      selector: 'form[id^="oro_attachment"]'
      class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Form
      options:
        mapping:
          File: 'oro_attachment[file][file]'
          Comment: 'oro_attachment[comment]'
          Owner: 'oro_attachment[owner]'

    Attachment Grid:
      selector: 'div[data-page-component-name="attachment-grid"]'
      class: Oro\Bundle\DataGridBundle\Tests\Behat\Element\Grid

    Close Large Image Preview:
      selector: 'span.lg-close.lg-icon'

    AttachmentItem:
      selector: '.attachment-item'
      class: Oro\Bundle\AttachmentBundle\Tests\Behat\Element\AttachmentItem

    AttachmentListRow:
      selector: '.attachment-list-row'

    Allowed MIME Types:
      selector:
        type: 'xpath'
        locator: '//select[contains(@name, "oro_entity_config_type[attachment][mimetypes]")]'

    File MIME Types:
      selector:
        type: 'xpath'
        locator: '//select[contains(@name, "oro_attachment___upload_file_mime_types")]'

    Image MIME Types:
      selector:
        type: 'xpath'
        locator: '//select[contains(@name, "oro_attachment___upload_image_mime_types")]'

  suites:
    OroAttachmentBundle:
      contexts:
        - OroAttachmentBundle::AttachmentImageContext:
            - '@doctrine'
            - '@oro_website.website.provider'
            - '@oro_website.manager'
            - '@oro_config.website'
            - '@liip_imagine.filter.configuration'
            - '@oro_attachment.manager.image_removal_manager'
        - Oro\Bundle\TestFrameworkBundle\Tests\Behat\Context\OroMainContext
        - OroFormBundle::FormContext
        - OroFormBundle::FeatureContext
        - OroConfigBundle::FeatureContext
        - OroDataGridBundle::GridContext
        - OroSecurityBundle::ACLContext
      paths:
        - '@OroAttachmentBundle/Tests/Behat/Features'
